<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>BE PEACE | Consultation Room</title>

  <!-- ðŸŒ¿ Link to your main site stylesheet -->
  <link rel="stylesheet" href="style.css">

  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Arial, sans-serif;
      background: #fdfdfd;
      color: #333;
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    header {
      text-align: center;
      padding: 15px 10px;
      background: linear-gradient(to right, #b2f2f2, #e6ffff);
      border-bottom: 2px solid #eee;
    }

    .logo-container {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 10px;
    }

    .earth {
      width: 40px;
      height: 40px;
      background: url('images/earth.png') center/cover no-repeat;
      border-radius: 50%;
      animation: rotate 25s linear infinite;
    }

    @keyframes rotate {
      from { transform: rotate(0deg); }
      to { transform: rotate(360deg); }
    }

    .peach-text {
      color: #d91b60;
      font-weight: 700;
      font-size: 24px;
      letter-spacing: 1px;
    }

    h2 {
      color: #c71585;
      margin-top: 5px;
      font-size: 18px;
    }

    main {
      flex: 1;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 10px;
    }

    #meet {
      width: 95%;
      height: 85vh;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px rgba(0,0,0,0.1);
    }

    footer {
      text-align: center;
      padding: 10px 0;
      background: #111;
      color: white;
      font-size: 14px;
    }

    footer a {
      color: #d91b60;
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }
  </style>
</head>
<body>
  <!-- ðŸŒŽ HEADER -->
  <header>
    <div class="logo-container">
      <div class="earth"></div>
      <h1 class="peach-text">BE PEACE</h1>
    </div>
    <h2>Live Consultation Room</h2>
  </header>

  <!-- ðŸŽ¥ MAIN MEETING AREA -->
  <main>
    <div id="meet">Loading consultation room...</div>
  </main>

  <!-- ðŸŒ¿ FOOTER -->
  <footer>
    <p>Â© 2025 <strong>BE PEACE</strong>. All rights reserved. | <a href="https://bepeace.in">Your Health, Your Peace</a></p>
  </footer>

  <!-- ðŸ“¹ Jitsi Embed Script -->
  <script src="https://meet.bepeace.in/external_api.js"></script>
  <script>
    // ðŸ§© Get meeting details from URL
    const urlParams = new URLSearchParams(window.location.search);
    const roomName = urlParams.get("room") || "BePeaceConsultation";
    const name = urlParams.get("name") || "Guest";

    console.log("Joining Room:", roomName, "as", name);

    // ðŸŽ¥ Jitsi configuration
    const domain = "meet.bepeace.in";
    const options = {
      roomName: roomName,
      width: "100%",
      height: "100%",
      parentNode: document.querySelector("#meet"),
      userInfo: { displayName: name },
      configOverwrite: {
        prejoinPageEnabled: false,
        disableDeepLinking: true,
        startWithAudioMuted: false,
        startWithVideoMuted: false,
        disableInviteFunctions: true
      },
      interfaceConfigOverwrite: {
        SHOW_JITSI_WATERMARK: false,
        SHOW_BRAND_WATERMARK: false,
        SHOW_WATERMARK_FOR_GUESTS: false,
        TOOLBAR_BUTTONS: [
          'microphone', 'camera', 'desktop', 'chat', 'raisehand', 'tileview', 'hangup'
        ]
      }
    };

    // ðŸš€ Initialize meeting
    const api = new JitsiMeetExternalAPI(domain, options);

    // âœ… When call ends
    api.addEventListener("readyToClose", () => {
      alert("Consultation ended. Thank you for using BE PEACE.");
    });
  </script>
</body>
</html>